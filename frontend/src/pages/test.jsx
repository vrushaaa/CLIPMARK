import React, { useState } from "react"; import Sidebar from "../components/Sidebar"; import NavBar from "../components/NavBar"; import BookmarkCard from "../components/BookmarkCard"; import Button from "../components/Button"; import { Menu, Plus } from "lucide-react"; export default function AllBookmark() { const [bookmark, setBookmarks] = useState([]); const [page, setPage] = useState(1); const [totalPages, setTotalPages] = useState(1); const [searchQuery, setSearchQuery] = useState(""); // for QR Modal const [qrModalOpen, setQrModalOpen] = useState(false); const [qrData, setQrData] = useState({ title: "", url: "", dataUri: "", }); // for Delete Modal const [deleteModalOpen, setDeleteModalOpen] = useState(false); const [bookmarkIdToDelete, setBookmarkIdToDelete] = useState(null); const [deleting, setDeleting] = useState(false); // for Add Modal const [addModalOpen, setAddModalOpen] = useState(false); const [addUrl, setAddUrl] = useState(""); const [addTitle, setAddTitle] = useState(""); const [addNotes, setAddNotes] = useState(""); const [addTags, setAddTags] = useState(""); const [adding, setAdding] = useState(false); //for Edit modal state const [editModalOpen, setEditModalOpen] = useState(false); const [currentEditId, setCurrentEditId] = useState(null); const [editTitle, setEditTitle] = useState(""); const [editNotes, setEditNotes] = useState(""); const [editTags, setEditTags] = useState(""); const [editArchived, setEditArchived] = useState("false"); const [savingEdit, setSavingEdit] = useState(false); // // Use state to manage sidebar visibility (e.g., for mobile view) const [isSidebarOpen, setIsSidebarOpen] = useState(true); const toggleSidebar = () => { setIsSidebarOpen((prev) => !prev); }; // Mock data adapted to fit the BookmarkCard props const bookmarks = [ { id: 1, title: "React Docs", url: "https://react.dev", notes: "Official documentation for React.js.", tags: ["react", "frontend"], isFavourite: true, isArchived: false, createdAt: "2 days ago", }, { id: 2, title: "Tailwind CSS", url: "https://tailwindcss.com", notes: "Rapidly build modern websites with utility-first CSS.", tags: ["css", "design"], isFavourite: false, isArchived: false, createdAt: "1 week ago", }, { id: 3, title: "Lucide Icons", url: "https://lucide.dev", notes: "A beautiful, community-driven icon library.", tags: ["icons", "ui"], isFavourite: true, isArchived: false, createdAt: "1 month ago", }, { id: 4, title: "The Gemini API", url: "https://ai.google.dev/gemini-api/docs", notes: "Documentation for the Google Gemini API.", tags: ["ai", "backend"], isFavourite: false, isArchived: false, createdAt: "5 hours ago", }, ]; // Placeholder handlers for card interactions const handleToggleFavourite = (id, newValue) => { console.log(Bookmark ${id} favourite toggled to ${newValue}.); }; const handleToggleArchive = (id, newValue) => { console.log(Bookmark ${id} archive toggled to ${newValue}.); }; const handleAddLink = () => { // FIX: Replaced alert() with a console log and temporary UI message console.log( "Adding new link functionality triggered. Modal should open here." ); const addLinkMsg = document.getElementById("add-link-message"); if (addLinkMsg) { addLinkMsg.textContent = "Modal for adding a new link should appear here!"; setTimeout(() => (addLinkMsg.textContent = ""), 3000); } }; return ( <> <NavBar toggleSidebar={toggleSidebar} isSidebarOpen={isSidebarOpen} /> <div className="flex min-h-screen bg-[#e9f9fc] dark:bg-slate-900 text-slate-900 dark:text-white transition-colors duration-300"> {/* Mobile Menu Button - fixed position, visible on small screens */} <button onClick={toggleSidebar} className="fixed top-3 left-3 z-50 p-2 rounded-full bg-[#4CCCE6] text-slate-900 shadow-md lg:hidden transition hover:opacity-90" aria-label="Toggle Sidebar" > <Menu size={24} /> </button> {/* Sidebar Container: Responsible for responsive visibility */} <div className={fixed inset-y-0 left-0 z-40 lg:relative lg:translate-x-0 transition-transform duration-300 ease-in-out ${ isSidebarOpen ? "w-64 translate-x-0" : "w-64 -translate-x-full lg:w-0" } overflow-y-auto shrink-0} > <Sidebar /> {/* Mobile Overlay */} {isSidebarOpen && ( <div onClick={toggleSidebar} className="fixed inset-0 bg-black/50 z-30 lg:hidden" aria-hidden="true" /> )} </div> {/* Main Content Area */} <div className="flex-1 flex flex-col"> {/* NavBar is assumed to be at the top and sticky */} <main className="p-4 md:p-8 flex-1"> {/* Header and Add Button */} <div className="flex justify-between items-center mb-8 pt-4 lg:pt-0"> <h1 className="text-3xl md:text-4xl font-extrabold text-[#1999b3] dark:text-[#4CCCE6]"> All Links </h1> <Button onClick={handleAddLink} className="flex items-center gap-2" > <Plus size={20} /> Add New Link </Button> </div> {/* Temporary message display for add link action */} <p id="add-link-message" className="text-center text-green-500 dark:text-green-400 mb-4 h-6" ></p> {/* Bookmark Cards Grid */} <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"> {bookmarks.length > 0 ? ( bookmarks.map((bm) => ( <BookmarkCard key={bm.id} id={bm.id} title={bm.title} url={bm.url} notes={bm.notes} tags={bm.tags} isFavourite={bm.isFavourite} isArchived={bm.isArchived} createdAt={bm.createdAt} onToggleFavourite={handleToggleFavourite} onToggleArchive={handleToggleArchive} /> )) ) : ( <p className="text-slate-600 dark:text-slate-400"> You haven't saved any links yet. Start by clicking "Add New Link"! </p> )} </div> </main> </div> </div> </> ); }